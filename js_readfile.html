<!DOCTYPE html>
<html>
<head>

</head>
<body>

<script>
// instead, read from uploaded file
/*
ref: 
https://techoverflow.net/2018/03/30/reading-an-uploaded-file-into-memory-using-pure-javascript/
"You have a File object in Javascript (e.g. from a drag & drop upload or a <input type="file">) which you want to read into memory in the browser. You donâ€™t want to use any library to do that but prefer a pure Javascript solution."

*/

function readFileIntoMemory (fi, callback) {

    fi = fi || document.getElementById('fid').files[0];
 
 	var reader = new FileReader();
    reader.onload = function () {
        callback({
            name: this.name,
            size: fi.size,
            type: fi.type,
            content: new Uint8Array(this.result)
         });
    };
    
    // trigger the reader events
    //reader.readAsArrayBuffer(file);
    //reader.readAsDataURL(f); 
	reader.readAsText(fi);	
}

function notifme(m){
	alert(m.content);
}

</script>


 <input type="file" id="fid">
<input type='button' value='IMPORT' onclick='readFileIntoMemory(null, notifme) '/>
</br></br>

</body>
</html>
